# Run basestate tutorial in Gazebo

## Run model in Gazebo with YARP integration

- 1st terminal:

  ~~~
  yarp server
  ~~~

- 2nd terminal:
  - Update the `GZ_SIM_RESOURCE_PATH` environment variable to point to the `tutorial` folder:

    ~~~
    export GZ_SIM_RESOURCE_PATH = $GZ_SIM_RESOURCE_PATH:<path-to-tutorial-folder>
    ~~~

  - Then, launch Gazebo:

    ~~~
    cd <path-to-tutorial-folder>/basestate
    gz sim model.sdf
    ~~~

- 3rd terminal:

  ~~~
  yarp name list
  yarp read /read ... /basestate
  ~~~

Finally start the simulation in Gazebo. The output you will obtain is similar to the following:

~~~
0.0 0.0 0.200000000000000011102 0.0 -0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0
0.0 0.0 0.200000000000000011102 0.0 -0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0
0.0 0.0 0.200000000000000011102 0.0 -0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0
0.0 0.0 0.196021200000000006547 0.0 -0.0 0.0 0.0 0.0 -0.274399999999999977263 0.0 0.0 0.0 0.0 0.0 -9.80000000000000071054 0.0 0.0 0.0
0.0 0.0 0.169806200000000045991 0.0 -0.0 0.0 0.0 0.0 -0.764400000000000190425 0.0 0.0 0.0 0.0 0.0 -9.80000000000000071054 0.0 0.0 0.0
0.0 0.0 0.120345599999999983143 0.0 -0.0 0.0 0.0 0.0 -1.24460000000000170495 0.0 0.0 0.0 0.0 0.0 -9.80000000000000071054 0.0 0.0 0.0
-7.19388764013172879599e-21 -5.70634313098143309888e-21 0.0490819956393049317001 1.1673619964696741732e-19 -1.44696542780974247249e-19 7.14120663729597622515e-24 8.14704371219786022717e-19 5.70648039518915476904e-19 0.000999975366667538514975 -1.16668231344728195913e-17 1.65932368377479896571e-17 -3.38014543302604885093e-21 8.82329638257130028367e-15 6.84763921001926351112e-15 0.00431142827319774823991 -1.4006984591591304962e-13 1.77883016456470217912e-13 -1.3901497503348082849e-17
-7.45505629020267962715e-21 -1.47854363812043699069e-20 0.0491319944081800574764 3.0077418679132490482e-19 -1.49228305320204393128e-19 -7.0926977968901808715e-23 -3.34525904039647323273e-19 -5.5314925403377369766e-19 0.000999975377500001913478 1.12802184753213960987e-17 -6.76257579468168913869e-18 -3.41187618383512047677e-22 -7.53061659883564673164e-17 -1.54128908957966376031e-15 1.77635683940025046468e-15 3.13781889978634922785e-14 -1.50117246714873606046e-15 -1.40262263335441551198e-18
-5.63320491336796893762e-21 -2.32406564245944578346e-20 0.0491799932263001782218 4.71412484181857246003e-19 -1.11828255488998282215e-19 -1.6349519486451101747e-22 -8.08496385964713421094e-19 -6.84859643134240003268e-19 0.000999975377500000178754 1.39388343772747652606e-17 -1.63870100580954815415e-17 1.11367819611383377203e-21 -1.77641497304804642059e-15 1.624895214273660966e-16 -1.17995626102930510599e-34 -3.22678304932770767899e-15 -3.60829640308922274916e-14 4.78069404385643251328e-18
-9.56388269729691080145e-21 -3.01130927163476748357e-20 0.0492299919951753039982 6.09855686501589626454e-19 -1.91716029101671255177e-19 -2.34624239579477172527e-22 -1.48097864130607537874e-19 -6.83992932631381037249e-20 0.000999975377500000178754 1.34885717601355564007e-18 -3.049587725395857216e-18 -3.66757928285802377022e-21 3.47915351071610288477e-16 -2.63485988726402557606e-16 1.77635683940025046468e-15 5.36496226335452203753e-15 7.03086163435972393117e-15 -4.40893144737922008963e-21
-3.80821513078784538872e-21 -3.63983605761247099194e-20 0.0492799907640504297746 7.36217037638610740556e-19 -7.500491353057814948e-20 -3.3693895204101452388e-22 4.99422858555845471061e-19 5.46136284531350889508e-19 0.000999975377500000178754 -1.11159771895250393407e-17 1.01367820271375741336e-17 -3.67577752414690519367e-21 3.47467798368358467498e-16 -2.66527381136509877265e-16 1.77635683940025046468e-15 5.36932760593788980501e-15 7.08642508085290335132e-15 -2.75687155896680338109e-18
8.31407021988526980729e-21 -4.5796900941335324134e-20 0.0493299895329255555509 9.25192929837610656005e-19 1.70848336916215897556e-19 -4.41603132856846873359e-22 7.20999848571657757249e-19 -1.19514831026139283261e-19 0.000999975377500001913478 2.41232174549348150572e-18 1.47157439323649051598e-17 3.84993131514133119139e-21 1.6413940747183353305e-15 1.69641627031859922003e-16 1.77635683940025046468e-15 -3.4365607887686195139e-15 3.33453928491062702509e-14 2.592276520065254115e-18
2.26594327963264718384e-20 -5.79060789228696492477e-20 0.0493779883510456762963 1.16883419598301137404e-18 4.60915652826591540473e-19 -5.5528815726981830632e-22 6.46826694919395576031e-19 1.015305102064683371e-18 0.000999975377499998444031 -2.05831864213203487871e-17 1.31046918444834759365e-17 3.44965657335864852854e-21 -6.64821911804265085322e-17 1.87973200048696887814e-15 2.23616407774079850798e-33 -3.80222800339779855619e-14 -1.32574554706260947398e-15 7.09015302604493694593e-18
2.99004941534518640132e-20 -7.02390624377651909105e-20 0.0494279871199208020727 1.41659039348703361815e-18 6.06678847170676424928e-19 -6.2641728947541388596e-22 -4.16831538998814015133e-19 -9.56891729073488264291e-20 0.000999975377499998444031 1.89355409891642658305e-18 -8.46289294238218207768e-18 -3.63259416597483351929e-21 3.58654511888881680336e-16 -2.58057254908904854903e-16 -1.77635683940025046468e-15 5.20394234382787130259e-15 7.23585203934426080794e-15 -5.01931212508150418993e-18
4.8810980672940375814e-20 -8.42584839445750512688e-20 0.0494779858887959278491 1.69802846729095982317e-18 9.88285333516700615958e-19 -7.27623394588325570205e-22 1.10677582447689871866e-18 -3.356634635263716572e-19 0.000999975377499998444031 6.7370157091568684467e-18 2.23332972390752315496e-17 -3.60622497075590089358e-21 3.6064308601144285683e-16 -2.56694104632613805911e-16 -1.77635683940025046468e-15 5.19956161214141196732e-15 7.22903123969736970642e-15 -5.37144277912264391503e-18
6.37779297959341659534e-20 -9.86986870968244585181e-20 0.0495279846576710536254 1.98742086304495620441e-18 1.28951647592082801542e-18 -8.13528974103261491389e-22 4.91131560016181527127e-19 -1.6444556991291101866e-19 0.000999975377500000178754 3.22922477551550065309e-18 9.86342598915047458348e-18 -3.58248928608448943693e-21 3.52123926696242662968e-16 -2.6593396967438276112e-16 1.77635683940025046468e-15 5.36127321768623848107e-15 7.05770984409928106873e-15 -1.42527096583441066912e-21
7.64428572870060895349e-20 -1.10492192635763483275e-19 0.0495779834265461794018 2.22251193329145689099e-18 1.54345804431267612134e-18 -9.54426539920674939814e-22 6.71966472964563164584e-19 -8.50425153384246300344e-19 0.000999975377499998444031 1.71067416337816719531e-17 1.35336270222881964416e-17 -3.54955367231700682085e-21 3.59760194952653472513e-16 -2.56331307890387222248e-16 -1.77635683940025046468e-15 5.1998454619905614231e-15 7.25886378683141700275e-15 -1.02139032283293440805e-20
8.69910636379682127819e-20 -1.22948210060302546049e-19 0.0496279821954213051782 2.47038064183799989114e-18 1.75464157600186911482e-18 -1.06877404021305204401e-21 1.79721324564109409726e-20 -6.84668850650108511627e-19 0.000999975377500000178754 1.37241372615753211649e-17 3.34668820482624621999e-19 -3.54342458215459177192e-21 3.51973178091941253151e-16 -2.66641028140613669676e-16 1.77635683940025046468e-15 5.36178101028506272081e-15 7.09568428780347378196e-15 -1.74849893804178283935e-20
1.0533334192183146427e-19 -1.37703955778279890462e-19 0.0496779809642964309546 2.76456096575375668067e-18 2.1222635919167953698e-18 -1.13507745261508481129e-21 -5.81698407658715402383e-19 -5.05079444230538168244e-19 0.000999975377499998444031 1.0117040255930832095e-17 -1.17243875936796619858e-17 3.85139899611401112197e-21 -1.79433561609037013532e-15 1.61769269947998951832e-16 4.26274789926889714497e-33 -3.22740517579805133082e-15 -3.60859387604645379368e-14 7.36797502116642564899e-18
1.18625140981056941942e-19 -1.48226718679823122233e-19 0.0497259797824165517 2.97269537002858483037e-18 2.38795086124849603193e-18 -1.27822621708121747244e-21 1.07148199599715410283e-18 -1.10052064153937982626e-18 0.000999975377499998444031 2.20774253510462161167e-17 2.1476837182347720478e-17 -3.49274216707869159278e-21 3.61581212822858462501e-16 -2.57341779762505665697e-16 -1.77635683940025046468e-15 5.22563128853057877192e-15 7.23729944017611120944e-15 2.01895013978703359214e-20
1.27872230290779442048e-19 -1.58471335577843231706e-19 0.0497759785512916774763 3.1748248102598327932e-18 2.57181913579781267402e-18 -1.40467928855813929052e-21 -4.41665706703250185677e-19 -8.12718553858776339474e-20 0.000999975377500000178754 1.54947731328658495648e-18 -8.91697123260117216934e-18 -3.50048942121379657698e-21 3.53341969953547066655e-16 -2.70248232549214740347e-16 1.77635683940025046468e-15 5.36596917691134770599e-15 7.07503241332967032614e-15 -7.47110610096066545845e-18
1.42730095245648872074e-19 -1.71981908030791264319e-19 0.0498259773201668032527 3.44232379733037485101e-18 2.868002742726001298e-18 -1.50777952355086564297e-21 1.11197748689444148837e-18 -3.30674374086131307381e-19 0.000999975377499998444031 6.5818242986786751473e-18 2.22389997350793937427e-17 -3.49326452926300594709e-21 3.65291942680122396148e-16 -2.60991717781663489494e-16 -1.77635683940025046468e-15 5.22460571860093022777e-15 7.24188915561780349594e-15 -3.15621283648609949596e-18
1.57768067620880051873e-19 -1.86356717372647673217e-19 0.0498759760890419290291 3.72689117872334864662e-18 3.16681427312578055842e-18 -1.56988508183625660144e-21 5.01912607487157809652e-19 -1.66669276129238659046e-19 0.000999975377500000178754 3.2191430902618698723e-18 9.98683097078339793094e-18 -3.44535258274748348951e-21 3.54539517932658628896e-16 -2.68681262706054244142e-16 1.77635683940025046468e-15 5.36097980478209672896e-15 7.05655414560800497449e-15 1.43515736299698157175e-20
1.75737715540576400217e-19 -1.91877847384819017394e-19 0.0499229760616010792562 3.83361771243398490028e-18 3.52318507372257090662e-18 -1.643711238741448534e-21 3.27947873141973225508e-19 3.23279086771153736809e-19 0.00077799472772709099555 -6.54207420010652210091e-18 6.47997412731981257697e-18 -7.11366760117968560786e-22 2.86806916562325250813e-16 1.00965965813036450995e-16 -0.00785853464483388108874 -2.03740804687739829954e-15 5.72493304899310500592e-15 4.70924266736214697993e-18
1.85273555096096420822e-19 -1.94399133809951375719e-19 0.0499519726920019113692 3.88198482687658288375e-18 3.71217975288905326801e-18 -1.67496392969156636296e-21 3.99589527593222787296e-19 4.50260962026833327383e-19 0.000485099464014026107717 -9.00211451443560826593e-18 7.97661624245593495135e-18 3.84053012898682437199e-21 -2.49853072391580481898e-16 2.93728069843480179725e-16 -0.00489999605335889043545 -5.78811174490983455588e-15 -5.01249611204589341286e-15 3.19449114315267177614e-18
1.98343757979657155859e-19 -2.0417145504065853815e-19 0.0499715204160066581163 4.07579903845788203697e-18 3.97244404976261608989e-18 -1.72625436342638649397e-21 6.1442721289837726586e-19 -9.82194485511113327134e-19 0.000287647702226943510762 1.96220572181052622071e-17 1.22910631171744903074e-17 -5.7378207933661075077e-21 2.75408758121966188054e-16 -7.26329956963187173684e-16 -0.00290553096518308962004 1.45417710294730111761e-14 5.55216088284225925085e-15 -6.59033321159475426072e-18
2.03437386791830810007e-19 -1.93939852683878024432e-19 0.0499825946779402369158 3.87003519239826912372e-18 4.07331717885254268584e-18 -1.76764520280168168039e-21 7.97434753726504356534e-19 -3.56391211242832869565e-19 0.000175786467643927746263 7.09488585179944251662e-18 1.59140833012629919566e-17 -5.65753876183275317209e-22 5.86063772971328231814e-17 -1.09772645236289478053e-16 -0.00177562019375798740839 2.1954448126878214268e-15 1.1765566844971742782e-15 6.74390649952389769157e-18
2.12319056634238458337e-19 -2.05617133980734644246e-19 0.0499889260910541741167 4.10315316154763975652e-18 4.25060371635714663804e-18 -1.82443755551393724863e-21 -2.75557968743977385481e-19 -1.5678712681500377781e-19 0.00011183279720679631386 3.16656974865907850039e-18 -5.52213359180902872535e-18 3.99740065560517537479e-21 -4.18851747410065245007e-16 1.41146087229750675571e-16 -0.00112962428058871466874 -2.76668050849843218897e-15 -8.30264887326858317017e-15 7.86903518238287572397e-18
2.27100795156723148261e-19 -2.11035565066981355017e-19 0.0499930942096587851986 4.21122363466813654403e-18 4.54539570107462696164e-18 -1.86760737609314745598e-21 1.05118222529071270279e-18 -8.44232256324862515097e-19 6.97305879118689797558e-05 1.68932136889917988939e-17 2.09947157532263187025e-17 -5.00907451763889903819e-21 4.90112691286824026117e-16 -3.99858032823573154137e-16 -0.000704349094721834489974 7.99569848469720325166e-15 9.7846662721403732802e-15 -7.38808834862986299408e-18
2.32527480999603293246e-19 -2.16152224315466506686e-19 0.0499951414075577235674 4.31352749742866152549e-18 4.65365381726633499908e-18 -1.85276436271108580056e-21 -5.1900942756800801665e-20 4.61521700678914349413e-19 4.90518224466815477847e-05 -9.18566564393748617737e-18 -1.03926885856956568891e-18 4.11151934863495855841e-22 2.3259026158073999358e-16 2.11358029134264803337e-16 -0.000495472262468155122406 -4.17612105033333742918e-15 4.621641502785562935e-15 5.17033346121555822189e-19
2.47606156104606362767e-19 -2.18094799267903949207e-19 0.0499971468107474961706 4.35212037878303332146e-18 4.95533602330051626376e-18 -1.860601371186022117e-21 1.91021948921242237468e-19 -1.71934143992107431718e-19 2.87952239691417061218e-05 3.42567729326779858339e-18 3.75756402351664596297e-18 -2.32209974791818468238e-21 5.01388408618627383274e-16 3.82484068133580230071e-17 -0.000290860960481253982834 -7.70018071570560224863e-16 1.00030167990494000971e-14 4.02714186045555029955e-19
2.62685983614185292473e-19 -2.23770732889981023807e-19 0.0499981471233812702071 4.46537299480583341306e-18 5.25666539995957259464e-18 -1.9198944265841330631e-21 2.71652911003542869433e-19 1.00204302197915427949e-18 1.86910536254230458253e-05 -2.00519552737218192993e-17 5.42599269568977891328e-18 6.44164136904085983525e-22 -9.65264483805334068059e-17 1.95145366483859976718e-15 -0.000188799736191569422772 -3.90765816168011841473e-14 -1.88028982417155056669e-15 4.09873505514125734343e-18
2.62685983614185292473e-19 -2.23770732889981023807e-19 0.0499981471233812702071 4.46537299480583341306e-18 5.25666539995957259464e-18 -1.9198944265841330631e-21 2.71652911003542869433e-19 1.00204302197915427949e-18 1.86910536254230458253e-05 -2.00519552737218192993e-17 5.42599269568977891328e-18 6.44164136904085983525e-22 -9.65264483805334068059e-17 1.95145366483859976718e-15 -0.000188799736191569422772 -3.90765816168011841473e-14 -1.88028982417155056669e-15 4.09873505514125734343e-18
2.66742102105863349715e-19 -2.2382279707625282588e-19 0.0499991526205256775484 4.46604035770848181858e-18 5.33775604729435379127e-18 -1.92613521797670789656e-21 9.86001750322409632563e-19 -8.8071622250169726935e-19 8.53451684918425657056e-06 1.76120401511952139491e-17 1.9743566732536308891e-17 -2.53183071336154027179e-21 1.30212116084367548068e-16 -3.72388682882364640763e-16 -8.62087312274439909743e-05 7.40595074127527750534e-15 2.66396774171890798356e-15 4.71353545744632500157e-19
2.66742102105863349715e-19 -2.2382279707625282588e-19 0.0499991526205256775484 4.46604035770848181858e-18 5.33775604729435379127e-18 -1.92613521797670789656e-21 9.86001750322409632563e-19 -8.8071622250169726935e-19 8.53451684918425657056e-06 1.76120401511952139491e-17 1.9743566732536308891e-17 -2.53183071336154027179e-21 1.30212116084367548068e-16 -3.72388682882364640763e-16 -8.62087312274439909743e-05 7.40595074127527750534e-15 2.66396774171890798356e-15 4.71353545744632500157e-19
2.66742102105863349715e-19 -2.2382279707625282588e-19 0.0499991526205256775484 4.46604035770848181858e-18 5.33775604729435379127e-18 -1.92613521797670789656e-21 9.86001750322409632563e-19 -8.8071622250169726935e-19 8.53451684918425657056e-06 1.76120401511952139491e-17 1.9743566732536308891e-17 -2.53183071336154027179e-21 1.30212116084367548068e-16 -3.72388682882364640763e-16 -8.62087312274439909743e-05 7.40595074127527750534e-15 2.66396774171890798356e-15 4.71353545744632500157e-19
2.66742102105863349715e-19 -2.2382279707625282588e-19 0.0499991526205256775484 4.46604035770848181858e-18 5.33775604729435379127e-18 -1.92613521797670789656e-21 9.86001750322409632563e-19 -8.8071622250169726935e-19 8.53451684918425657056e-06 1.76120401511952139491e-17 1.9743566732536308891e-17 -2.53183071336154027179e-21 1.30212116084367548068e-16 -3.72388682882364640763e-16 -8.62087312274439909743e-05 7.40595074127527750534e-15 2.66396774171890798356e-15 4.71353545744632500157e-19
2.66742102105863349715e-19 -2.2382279707625282588e-19 0.0499991526205256775484 4.46604035770848181858e-18 5.33775604729435379127e-18 -1.92613521797670789656e-21 9.86001750322409632563e-19 -8.8071622250169726935e-19 8.53451684918425657056e-06 1.76120401511952139491e-17 1.9743566732536308891e-17 -2.53183071336154027179e-21 1.30212116084367548068e-16 -3.72388682882364640763e-16 -8.62087312274439909743e-05 7.40595074127527750534e-15 2.66396774171890798356e-15 4.71353545744632500157e-19

~~~

On each line are listed 18 elements:

- X, Y, Z coordinates of the origin of the base link frame expressed in the world reference frame;
- Roll, Pitch and Yaw angles expressing the orientation of the base link frame with respect to the world reference frame, in radians;
- Linear velocity of the origin of the base link frame expressed in the world reference frame;
- Angular velocity of the origin of the base link frame expressed in the world reference frame;
- Linear acceleration of the origin of the base link frame expressed in the world reference frame;
- Angular acceleration of the origin of the base link frame expressed in the world reference frame;

As you can observe from the basestate plugin output, the base link frame starts at 0.2m height on Z direction (the 3rd value printed on each line) and when the simulation runs the cube falls on the ground; the Z value then remains constant to ~0.05m.

